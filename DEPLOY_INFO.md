[DEPLOY_INFO.md](https://github.com/user-attachments/files/22891815/DEPLOY_INFO.md)
# üì¶ DEPLOY –Ü–ù–°–¢–†–£–ö–¶–Ü–Ø + –Ø–ö –ü–†–ê–¶–Æ–Ñ –ë–û–¢

## 1Ô∏è‚É£ –§–ê–ô–õ–ò –î–õ–Ø GITHUB (—É—Å—ñ –æ–±–æ–≤'—è–∑–∫–æ–≤—ñ!)

### ‚úÖ –û—Å–Ω–æ–≤–Ω—ñ —Ñ–∞–π–ª–∏ –¥–ª—è –¥–µ–ø–ª–æ—é:
```
‚îú‚îÄ‚îÄ main.py              # ‚Üê –ì–û–õ–û–í–ù–ò–ô –ö–û–î –ë–û–¢–ê
‚îú‚îÄ‚îÄ requirements.txt     # ‚Üê –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ Python (ccxt, pandas, ta, requests)
‚îú‚îÄ‚îÄ Procfile            # ‚Üê –ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫—É –¥–ª—è Railway (worker: python main.py)
‚îú‚îÄ‚îÄ runtime.txt         # ‚Üê –í–µ—Ä—Å—ñ—è Python (python-3.11.0)
‚îú‚îÄ‚îÄ .gitignore          # ‚Üê –í–∏–∫–ª—é—á–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤ (trades_history.json, .env, __pycache__)
‚îî‚îÄ‚îÄ README.md           # ‚Üê –û–ø–∏—Å –ø—Ä–æ–µ–∫—Ç—É
```

### üìã –¢–û–ß–ù–ò–ô –°–ü–ò–°–û–ö –¥–ª—è `git add`:
```bash
git add main.py
git add requirements.txt
git add Procfile
git add runtime.txt
git add .gitignore
git add README.md
git add RAILWAY.md        # (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ - —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –¥–ª—è Railway)
git commit -m "Trading bot ready for deployment"
git push origin main
```

### ‚ö†Ô∏è –ù–ï –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–∞ GitHub:
- ‚ùå `.env` —Ñ–∞–π–ª (—Å–µ–∫—Ä–µ—Ç–∏!)
- ‚ùå `trades_history.json` (–ª–æ–∫–∞–ª—å–Ω–∞ —ñ—Å—Ç–æ—Ä—ñ—è)
- ‚ùå `__pycache__/` (–∫–µ—à Python)
- ‚ùå `replit.md` (—Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω–æ –¥–ª—è Replit)

---

## 2Ô∏è‚É£ –Ø–ö –ü–†–ê–¶–Æ–Ñ –ë–û–¢: –î–ï–¢–ê–õ–¨–ù–ò–ô –†–û–ó–ë–Ü–†

### üîÑ –¶–∏–∫–ª —Ä–æ–±–æ—Ç–∏ –±–æ—Ç–∞ (–∫–æ–∂–Ω—ñ 20 —Å–µ–∫—É–Ω–¥):

```
1. –ü–µ—Ä–µ–≤—ñ—Ä—è—î –∑–∞–∫—Ä–∏—Ç—ñ –ø–æ–∑–∏—Ü—ñ—ó ‚Üí —è–∫—â–æ —î, –Ω–∞–¥—Å–∏–ª–∞—î —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
2. –û–±—Ä–æ–±–ª—è—î Telegram –∫–Ω–æ–ø–∫–∏ ‚Üí –ó–≤—ñ—Ç / –ë–∞–ª–∞–Ω—Å / –ü–æ–∑–∏—Ü—ñ—ó
3. –î–ª—è –∫–æ–∂–Ω–æ—ó –º–æ–Ω–µ—Ç–∏ (BTC, ETH, SOL, LINK, ADA):
   ‚îú‚îÄ‚îÄ –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î —ñ—Å—Ç–æ—Ä–∏—á–Ω—ñ –¥–∞–Ω—ñ (200 —Å–≤—ñ—á–æ–∫ –ø–æ 5 —Ö–≤–∏–ª–∏–Ω)
   ‚îú‚îÄ‚îÄ –†–æ–∑—Ä–∞—Ö–æ–≤—É—î —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä–∏ (EMA20, EMA50, RSI14, volEMA20)
   ‚îú‚îÄ‚îÄ –ü–µ—Ä–µ–≤—ñ—Ä—è—î —É–º–æ–≤–∏ LONG/SHORT
   ‚îú‚îÄ‚îÄ –Ø–∫—â–æ —Å–∏–≥–Ω–∞–ª —î ‚Üí –ø–µ—Ä–µ–≤—ñ—Ä—è—î —á–∏ –º–æ–∂–Ω–∞ –≤—ñ–¥–∫—Ä–∏—Ç–∏ –ø–æ–∑–∏—Ü—ñ—é
   ‚îî‚îÄ‚îÄ –í—ñ–¥–∫—Ä–∏–≤–∞—î –ø–æ–∑–∏—Ü—ñ—é –∑ TP/SL –Ω–∞ –±—ñ—Ä–∂—ñ
4. –ß–µ–∫–∞—î 20 —Å–µ–∫—É–Ω–¥ ‚Üí –ø–æ–≤—Ç–æ—Ä—é—î —Ü–∏–∫–ª
```

---

## 3Ô∏è‚É£ –Ü–ù–î–ò–ö–ê–¢–û–†–ò: –Ø–ö –ü–†–ê–¶–Æ–Æ–¢–¨

### üìä –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä—ñ–≤ (–∫–æ–¥ –≤ `calculate_indicators(df)`):

```python
# 1. EMA20 (Exponential Moving Average 20) - —à–≤–∏–¥–∫–∞ –∫–æ–≤–∑–Ω–∞ —Å–µ—Ä–µ–¥–Ω—è
df['EMA20'] = ta.trend.ema_indicator(df['close'], window=20)

# 2. EMA50 (Exponential Moving Average 50) - –ø–æ–≤—ñ–ª—å–Ω–∞ –∫–æ–≤–∑–Ω–∞ —Å–µ—Ä–µ–¥–Ω—è  
df['EMA50'] = ta.trend.ema_indicator(df['close'], window=50)

# 3. RSI14 (Relative Strength Index 14) - —ñ–Ω–¥–µ–∫—Å –≤—ñ–¥–Ω–æ—Å–Ω–æ—ó —Å–∏–ª–∏
df['RSI14'] = ta.momentum.rsi(df['close'], window=14)

# 4. volEMA20 - —Å–µ—Ä–µ–¥–Ω—ñ–π –æ–±—Å—è–≥ –∑–∞ 20 –ø–µ—Ä—ñ–æ–¥—ñ–≤
df['volEMA20'] = df['volume'].ewm(span=20).mean()
```

### üìà –©–æ –æ–∑–Ω–∞—á–∞—é—Ç—å —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä–∏:

| –Ü–Ω–¥–∏–∫–∞—Ç–æ—Ä | –ü–æ—è—Å–Ω–µ–Ω–Ω—è |
|-----------|-----------|
| **EMA20** | –°–µ—Ä–µ–¥–Ω—è —Ü—ñ–Ω–∞ –∑–∞ –æ—Å—Ç–∞–Ω–Ω—ñ 20 —Å–≤—ñ—á–æ–∫ (5-—Ö–≤–∏–ª–∏–Ω–Ω–∏—Ö). –†–µ–∞–≥—É—î —à–≤–∏–¥–∫–æ –Ω–∞ –∑–º—ñ–Ω–∏. |
| **EMA50** | –°–µ—Ä–µ–¥–Ω—è —Ü—ñ–Ω–∞ –∑–∞ –æ—Å—Ç–∞–Ω–Ω—ñ 50 —Å–≤—ñ—á–æ–∫. –†–µ–∞–≥—É—î –ø–æ–≤—ñ–ª—å–Ω—ñ—à–µ, –ø–æ–∫–∞–∑—É—î —Ç—Ä–µ–Ω–¥. |
| **RSI14** | –í—ñ–¥ 0 –¥–æ 100. > 60 = —Å–∏–ª–∞ –ø–æ–∫—É–ø—Ü—ñ–≤, < 40 = —Å–∏–ª–∞ –ø—Ä–æ–¥–∞–≤—Ü—ñ–≤. |
| **volEMA20** | –°–µ—Ä–µ–¥–Ω—ñ–π –æ–±—Å—è–≥ —Ç–æ—Ä–≥—ñ–≤. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è —Ñ—ñ–ª—å—Ç—Ä–∞ —Å–ª–∞–±–∫–∏—Ö —Å–∏–≥–Ω–∞–ª—ñ–≤. |

---

## 4Ô∏è‚É£ –£–ú–û–í–ò –í–Ü–î–ö–†–ò–¢–¢–Ø –ü–û–ó–ò–¶–Ü–ô

### ‚úÖ LONG (–∫—É–ø—ñ–≤–ª—è) - –∫–æ–¥ –≤ `signal_from_df(df)`:

```python
long_cond = (
    last['EMA20'] > last['EMA50']        # ‚Üê –®–≤–∏–¥–∫–∞ EMA –≤–∏—â–µ –ø–æ–≤—ñ–ª—å–Ω–æ—ó (–≤–∏—Å—Ö—ñ–¥–Ω–∏–π —Ç—Ä–µ–Ω–¥)
    AND last['close'] > last['EMA20']    # ‚Üê –¶—ñ–Ω–∞ –≤–∏—â–µ —à–≤–∏–¥–∫–æ—ó EMA (—ñ–º–ø—É–ª—å—Å –≤–≥–æ—Ä—É)
    AND last['RSI14'] > 60               # ‚Üê RSI > 60 (—Å–∏–ª–∞ –ø–æ–∫—É–ø—Ü—ñ–≤)
    AND last['volume'] > last['volEMA20'] # ‚Üê –û–±—Å—è–≥ –≤–∏—â–∏–π –∑–∞ —Å–µ—Ä–µ–¥–Ω—ñ–π (–ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è)
)
```

**–ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏ LONG:**
1. ‚úÖ –¢—Ä–µ–Ω–¥ –≤–∏—Å—Ö—ñ–¥–Ω–∏–π (EMA20 > EMA50)
2. ‚úÖ –¶—ñ–Ω–∞ –∑—Ä–æ—Å—Ç–∞—î –≤–∏—â–µ EMA20 (—ñ–º–ø—É–ª—å—Å)
3. ‚úÖ –ü–æ–∫—É–ø—Ü—ñ —Å–∏–ª—å–Ω—ñ (RSI > 60)
4. ‚úÖ –í–µ–ª–∏–∫–∏–π –æ–±—Å—è–≥ —Ç–æ—Ä–≥—ñ–≤ (–ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è —Ä—É—Ö—É)

### üìâ SHORT (–ø—Ä–æ–¥–∞–∂):

```python
short_cond = (
    last['EMA20'] < last['EMA50']        # ‚Üê –®–≤–∏–¥–∫–∞ EMA –Ω–∏–∂—á–µ –ø–æ–≤—ñ–ª—å–Ω–æ—ó (—Å–ø–∞–¥–Ω–∏–π —Ç—Ä–µ–Ω–¥)
    AND last['close'] < last['EMA20']    # ‚Üê –¶—ñ–Ω–∞ –Ω–∏–∂—á–µ —à–≤–∏–¥–∫–æ—ó EMA (—ñ–º–ø—É–ª—å—Å –≤–Ω–∏–∑)
    AND last['RSI14'] < 40               # ‚Üê RSI < 40 (—Å–∏–ª–∞ –ø—Ä–æ–¥–∞–≤—Ü—ñ–≤)
    AND last['volume'] > last['volEMA20'] # ‚Üê –û–±—Å—è–≥ –≤–∏—â–∏–π –∑–∞ —Å–µ—Ä–µ–¥–Ω—ñ–π (–ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è)
)
```

**–ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏ SHORT:**
1. ‚úÖ –¢—Ä–µ–Ω–¥ —Å–ø–∞–¥–Ω–∏–π (EMA20 < EMA50)
2. ‚úÖ –¶—ñ–Ω–∞ –ø–∞–¥–∞—î –Ω–∏–∂—á–µ EMA20 (—ñ–º–ø—É–ª—å—Å)
3. ‚úÖ –ü—Ä–æ–¥–∞–≤—Ü—ñ —Å–∏–ª—å–Ω—ñ (RSI < 40)
4. ‚úÖ –í–µ–ª–∏–∫–∏–π –æ–±—Å—è–≥ —Ç–æ—Ä–≥—ñ–≤ (–ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è —Ä—É—Ö—É)

---

## 5Ô∏è‚É£ –ü–†–û–¶–ï–° –ü–ï–†–ï–í–Ü–†–ö–ò –ú–û–ù–ï–¢

### üîç –ü–æ–∫—Ä–æ–∫–æ–≤–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º (–¥–ª—è –∫–æ–∂–Ω–æ—ó –º–æ–Ω–µ—Ç–∏):

```python
# –ö–†–û–ö 1: –û—Ç—Ä–∏–º—É—î —ñ—Å—Ç–æ—Ä–∏—á–Ω—ñ –¥–∞–Ω—ñ
bars = exchange.fetch_ohlcv("BTC/USDT:USDT", timeframe="5m", limit=200)
# ‚Üì –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î 200 –æ—Å—Ç–∞–Ω–Ω—ñ—Ö 5-—Ö–≤–∏–ª–∏–Ω–Ω–∏—Ö —Å–≤—ñ—á–æ–∫

# –ö–†–û–ö 2: –°—Ç–≤–æ—Ä—é—î DataFrame –∑ –¥–∞–Ω–∏–º–∏
df = pd.DataFrame(bars, columns=["timestamp", "open", "high", "low", "close", "volume"])
# ‚Üì –¢–∞–±–ª–∏—Ü—è –∑ —Ü—ñ–Ω–∞–º–∏ —Ç–∞ –æ–±—Å—è–≥–æ–º

# –ö–†–û–ö 3: –†–æ–∑—Ä–∞—Ö–æ–≤—É—î —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä–∏
df = calculate_indicators(df)
# ‚Üì –î–æ–¥–∞—î EMA20, EMA50, RSI14, volEMA20

# –ö–†–û–ö 4: –ü–µ—Ä–µ–≤—ñ—Ä—è—î —É–º–æ–≤–∏ –Ω–∞ –û–°–¢–ê–ù–ù–Ü–ô —Å–≤—ñ—á—Ü—ñ
last_row = df.iloc[-1]  # ‚Üê –ë–µ—Ä–µ–º–æ –æ—Å—Ç–∞–Ω–Ω—ñ–π —Ä—è–¥–æ–∫ (–Ω–∞–π—Å–≤—ñ–∂—ñ—à—ñ –¥–∞–Ω—ñ)
signal = signal_from_df(df)  # ‚Üê "LONG" / "SHORT" / "NONE"

# –ö–†–û–ö 5: –Ø–∫—â–æ —Å–∏–≥–Ω–∞–ª —î ‚Üí –ø–µ—Ä–µ–≤—ñ—Ä—è—î —á–∏ –º–æ–∂–Ω–∞ –≤—ñ–¥–∫—Ä–∏—Ç–∏
if signal in ["LONG", "SHORT"]:
    if can_open_new_position("BTC/USDT:USDT"):  # ‚Üê –ß–∏ –Ω–µ–º–∞—î –ø–æ–∑–∏—Ü—ñ—ó, —á–∏ —î –±–∞–ª–∞–Ω—Å
        open_position("BTC/USDT:USDT", signal)  # ‚Üê –í–Ü–î–ö–†–ò–í–ê–Ñ –ü–û–ó–ò–¶–Ü–Æ!
```

### üõ°Ô∏è –ó–∞—Ö–∏—Å–Ω—ñ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –ü–ï–†–ï–î –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è–º:

```python
def can_open_new_position(symbol):
    # 1. –ü–µ—Ä–µ–≤—ñ—Ä—è—î —á–∏ –ù–ï –≤—ñ–¥–∫—Ä–∏—Ç–∞ –≤–∂–µ –ø–æ–∑–∏—Ü—ñ—è –Ω–∞ —Ü—ñ–π –º–æ–Ω–µ—Ç—ñ
    positions = get_open_positions_from_exchange()
    for p in positions:
        if p['symbol'] == symbol:
            return False  # ‚Üê –ü–æ–∑–∏—Ü—ñ—è –≤–∂–µ —î - –ù–ï –≤—ñ–¥–∫—Ä–∏–≤–∞—î–º–æ –Ω–æ–≤—É!
    
    # 2. –ü–µ—Ä–µ–≤—ñ—Ä—è—î –ª—ñ–º—ñ—Ç –ø–æ–∑–∏—Ü—ñ–π (–º–∞–∫—Å–∏–º—É–º 10)
    if len(positions) >= MAX_CONCURRENT_POSITIONS:
        return False  # ‚Üê –í–∂–µ 10 –ø–æ–∑–∏—Ü—ñ–π - –ù–ï –≤—ñ–¥–∫—Ä–∏–≤–∞—î–º–æ –Ω–æ–≤—É!
    
    # 3. –ü–µ—Ä–µ–≤—ñ—Ä—è—î –±–∞–ª–∞–Ω—Å
    balance = get_available_balance()
    if balance < ORDER_SIZE_USDT:  # < $5
        return False  # ‚Üê –ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –≥—Ä–æ—à–µ–π - –ù–ï –≤—ñ–¥–∫—Ä–∏–≤–∞—î–º–æ!
    
    return True  # ‚Üê –í—Å–µ –û–ö, –º–æ–∂–Ω–∞ –≤—ñ–¥–∫—Ä–∏–≤–∞—Ç–∏!
```

---

## 6Ô∏è‚É£ –í–Ü–î–ö–†–ò–¢–¢–Ø –ü–û–ó–ò–¶–Ü–á: –©–û –í–Ü–î–ë–£–í–ê–Ñ–¢–¨–°–Ø

### üöÄ –ü—Ä–æ—Ü–µ—Å –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è (–∫–æ–¥ –≤ `open_position()`):

```python
# 1. –û—Ç—Ä–∏–º—É—î –ø–æ—Ç–æ—á–Ω—É —Ü—ñ–Ω—É
ticker = exchange.fetch_ticker("BTC/USDT:USDT")
price = 95000.0  # –ü—Ä–∏–∫–ª–∞–¥

# 2. –†–æ–∑—Ä–∞—Ö–æ–≤—É—î –∫—ñ–ª—å–∫—ñ—Å—Ç—å BTC –¥–ª—è $5
amount = ORDER_SIZE_USDT / price  # = 5 / 95000 = 0.0000526 BTC

# 3. –†–æ–∑—Ä–∞—Ö–æ–≤—É—î TP/SL —Ü—ñ–Ω–∏
if side == "LONG":
    tp_price = price * 1.05  # +5% = 99750
    sl_price = price * 0.98  # -2% = 93100
else:  # SHORT
    tp_price = price * 0.95  # -5% = 90250
    sl_price = price * 1.02  # +2% = 96900

# 4. –í—Å—Ç–∞–Ω–æ–≤–ª—é—î –ø–ª–µ—á–µ √ó10
exchange.set_leverage(10, "BTC/USDT:USDT")

# 5. –í–Ü–î–ö–†–ò–í–ê–Ñ –†–ò–ù–ö–û–í–ò–ô –û–†–î–ï–†
order = exchange.create_market_order("BTC/USDT:USDT", "buy", 0.0000526)
# ‚Üì –ü–æ–∑–∏—Ü—ñ—è –≤—ñ–¥–∫—Ä–∏—Ç–∞!

# 6. –í–ò–°–¢–ê–í–õ–Ø–Ñ TP/SL –ù–ê –ë–Ü–†–ñ–Ü —á–µ—Ä–µ–∑ Bybit API
params = {
    'symbol': 'BTCUSDT',
    'takeProfit': '99750',
    'stopLoss': '93100',
    'tpTriggerBy': 'LastPrice',
    'slTriggerBy': 'LastPrice',
    'category': 'linear'
}
exchange.private_post_v5_position_trading_stop(params)
# ‚Üì TP/SL –≤–∏—Å—Ç–∞–≤–ª–µ–Ω–æ –Ω–∞ Bybit - –ø—Ä–∞—Ü—é—î –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –±–æ—Ç –≤–ø–∞–¥–µ!

# 7. –ù–∞–¥—Å–∏–ª–∞—î Telegram –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
msg = "‚úÖ –ü–û–ó–ò–¶–Ü–Æ –í–Ü–î–ö–†–ò–¢–û
üî∏ BTC/USDT:USDT LONG
üíµ –†–æ–∑–º—ñ—Ä: $5.00
üìä –í—Ö—ñ–¥: 95000.0000
üéØ TP: 99750.0000 (+5.0%)
üõë SL: 93100.0000 (-2.0%)"
```

### üî• –ß–æ–º—É TP/SL –Ω–∞ –±—ñ—Ä–∂—ñ - —Ü–µ –í–ê–ñ–õ–ò–í–û:

```
–Ø–ö–©–û –ë–û–¢ –í–ü–ê–î–ï / –í–Ü–î–ö–õ–Æ–ß–ò–¢–¨–°–Ø:
‚ùå –õ–æ–∫–∞–ª—å–Ω–∏–π –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ ‚Üí –ø–æ–∑–∏—Ü—ñ—è –ë–ï–ó –ó–ê–•–ò–°–¢–£ (–º–æ–∂—É—Ç—å –±—É—Ç–∏ –≤—Ç—Ä–∞—Ç–∏!)
‚úÖ TP/SL –Ω–∞ –±—ñ—Ä–∂—ñ ‚Üí Bybit –ê–í–¢–û–ú–ê–¢–ò–ß–ù–û –∑–∞–∫—Ä–∏—î –ø–æ TP –∞–±–æ SL
```

---

## 7Ô∏è‚É£ –ó–ê–ö–†–ò–¢–¢–Ø –ü–û–ó–ò–¶–Ü–ô –Ü –°–¢–ê–¢–ò–°–¢–ò–ö–ê

### üí∏ –Ø–∫ –≤–∏–∑–Ω–∞—á–∞—î—Ç—å—Å—è –ø—Ä–∏–±—É—Ç–æ–∫:

```python
# –ë–æ—Ç –ø–µ—Ä—ñ–æ–¥–∏—á–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—î –∑–∞–∫—Ä–∏—Ç—ñ –æ—Ä–¥–µ—Ä–∏
closed_orders = exchange.fetch_closed_orders("BTC/USDT:USDT", limit=5)

for order in closed_orders:
    # –û—Ç—Ä–∏–º—É—î –†–ï–ê–õ–¨–ù–ò–ô PnL –∑ Bybit API
    pnl_history = exchange.fetch_my_trades("BTC/USDT:USDT", limit=10)
    for trade in pnl_history:
        if trade['order'] == order['id']:
            pnl = trade['info']['closedPnl']  # ‚Üê –†–ï–ê–õ–¨–ù–ò–ô –ø—Ä–∏–±—É—Ç–æ–∫/–∑–±–∏—Ç–æ–∫
            
            # –î–æ–¥–∞—î –≤ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
            if pnl > 0:
                trades_history['wins'] += 1
            else:
                trades_history['losses'] += 1
            
            trades_history['total_profit_usdt'] += pnl
            
            # –ó–±–µ—Ä—ñ–≥–∞—î –≤ JSON
            save_trades_history(trades_history)
```

### üìä –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –∑–∞–∫—Ä–∏—Ç—Ç—è:

```
‚úÖ –ü–û–ó–ò–¶–Ü–Æ –ó–ê–ö–†–ò–¢–û (TP)
üî∏ BTC/USDT:USDT
üíµ –ü—Ä–∏–±—É—Ç–æ–∫: +0.25 USDT (+5.0%)
üìä –í—Ö—ñ–¥: 95000.0000

–ê–ë–û

‚ùå –ü–û–ó–ò–¶–Ü–Æ –ó–ê–ö–†–ò–¢–û (SL)
üî∏ ETH/USDT:USDT
üíµ –ü—Ä–∏–±—É—Ç–æ–∫: -0.10 USDT (-2.0%)
üìä –í—Ö—ñ–¥: 3500.0000
```

---

## 8Ô∏è‚É£ –ß–ò –í–°–ï –ü–†–ê–í–ò–õ–¨–ù–û –í –ö–û–î–Ü?

### ‚úÖ –ü–ï–†–ï–í–Ü–†–ï–ù–û:

| –©–æ | –°—Ç–∞—Ç—É—Å | –ü–æ—è—Å–Ω–µ–Ω–Ω—è |
|----|--------|-----------|
| **TP/SL –Ω–∞ –±—ñ—Ä–∂—ñ** | ‚úÖ –û–ö | –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `private_post_v5_position_trading_stop` |
| **–§–æ—Ä–º–∞—Ç —Å–∏–º–≤–æ–ª—ñ–≤** | ‚úÖ –û–ö | `BTC/USDT:USDT` –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –¥–ª—è Bybit futures |
| **–†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ PnL** | ‚úÖ –û–ö | –ë–µ—Ä–µ—Ç—å—Å—è –∑ `closedPnl` API (–Ω–µ –∑ –∫–æ–º—ñ—Å—ñ–π) |
| **–†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ —Å—É–º–∏** | ‚úÖ –û–ö | `amount = 5 / price` (–±–µ–∑ –º–Ω–æ–∂–µ–Ω–Ω—è –Ω–∞ leverage) |
| **–Ü–Ω–¥–∏–∫–∞—Ç–æ—Ä–∏** | ‚úÖ –û–ö | EMA20/50, RSI14, volEMA20 —Ä–æ–∑—Ä–∞—Ö–æ–≤—É—é—Ç—å—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ |
| **–£–º–æ–≤–∏ LONG** | ‚úÖ –û–ö | 4 —É–º–æ–≤–∏: EMA20>EMA50, —Ü—ñ–Ω–∞>EMA20, RSI>60, –æ–±—Å—è–≥>volEMA20 |
| **–£–º–æ–≤–∏ SHORT** | ‚úÖ –û–ö | 4 —É–º–æ–≤–∏: EMA20<EMA50, —Ü—ñ–Ω–∞<EMA20, RSI<40, –æ–±—Å—è–≥>volEMA20 |
| **–ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ –¥—É–±–ª—ñ–≤** | ‚úÖ –û–ö | –ü–µ—Ä–µ–≤—ñ—Ä—è—î —á–∏ –Ω–µ–º–∞—î –ø–æ–∑–∏—Ü—ñ—ó –ø–µ—Ä–µ–¥ –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è–º |
| **–õ—ñ–º—ñ—Ç –ø–æ–∑–∏—Ü—ñ–π** | ‚úÖ –û–ö | –ú–∞–∫—Å–∏–º—É–º 10 –ø–æ–∑–∏—Ü—ñ–π –æ–¥–Ω–æ—á–∞—Å–Ω–æ |
| **Telegram –∫–Ω–æ–ø–∫–∏** | ‚úÖ –û–ö | –ó–≤—ñ—Ç, –ë–∞–ª–∞–Ω—Å, –ê–∫—Ç–∏–≤–Ω—ñ –ø–æ–∑–∏—Ü—ñ—ó |

### üîç –ö–û–î –Ü–ù–î–ò–ö–ê–¢–û–†–Ü–í (—Ä—è–¥–∫–∏ 208-223 –≤ main.py):

```python
def calculate_indicators(df):
    df['EMA20'] = ta.trend.ema_indicator(df['close'], window=20)
    df['EMA50'] = ta.trend.ema_indicator(df['close'], window=50)
    df['RSI14'] = ta.momentum.rsi(df['close'], window=14)
    df['volEMA20'] = df['volume'].ewm(span=20).mean()
    return df

def signal_from_df(df):
    last = df.iloc[-1]  # ‚Üê –û—Å—Ç–∞–Ω–Ω—è —Å–≤—ñ—á–∫–∞
    
    # LONG: –≤—Å—ñ 4 —É–º–æ–≤–∏ –æ–¥–Ω–æ—á–∞—Å–Ω–æ
    long_cond = (
        last['EMA20'] > last['EMA50'] and      # —Ç—Ä–µ–Ω–¥ –≤–≥–æ—Ä—É
        last['close'] > last['EMA20'] and      # —ñ–º–ø—É–ª—å—Å –≤–≥–æ—Ä—É
        last['RSI14'] > 60 and                 # –ø–æ–∫—É–ø—Ü—ñ —Å–∏–ª—å–Ω—ñ
        last['volume'] > last['volEMA20']      # –≤–µ–ª–∏–∫–∏–π –æ–±—Å—è–≥
    )
    
    # SHORT: –≤—Å—ñ 4 —É–º–æ–≤–∏ –æ–¥–Ω–æ—á–∞—Å–Ω–æ
    short_cond = (
        last['EMA20'] < last['EMA50'] and      # —Ç—Ä–µ–Ω–¥ –≤–Ω–∏–∑
        last['close'] < last['EMA20'] and      # —ñ–º–ø—É–ª—å—Å –≤–Ω–∏–∑
        last['RSI14'] < 40 and                 # –ø—Ä–æ–¥–∞–≤—Ü—ñ —Å–∏–ª—å–Ω—ñ
        last['volume'] > last['volEMA20']      # –≤–µ–ª–∏–∫–∏–π –æ–±—Å—è–≥
    )
    
    if long_cond:
        return "LONG"
    if short_cond:
        return "SHORT"
    return "NONE"
```

---

## 9Ô∏è‚É£ –®–í–ò–î–ö–ò–ô –°–¢–ê–†–¢ –ù–ê RAILWAY

### 1. –ó–∞–≤–∞–Ω—Ç–∞–∂ –Ω–∞ GitHub:
```bash
git add main.py requirements.txt Procfile runtime.txt .gitignore README.md
git commit -m "Bot ready"
git push origin main
```

### 2. –ù–∞ Railway.com:
- New Project ‚Üí Deploy from GitHub
- –í–∏–±–µ—Ä–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
- Variables ‚Üí –¥–æ–¥–∞–π —Å–µ–∫—Ä–µ—Ç–∏:
  ```
  API_KEY=—Ç–≤—ñ–π_bybit_api_key
  API_SECRET=—Ç–≤—ñ–π_bybit_secret
  TELEGRAM_TOKEN=—Ç–≤—ñ–π_telegram_token
  TELEGRAM_CHAT_ID=—Ç–≤—ñ–π_chat_id
  TESTNET=True  (–¥–ª—è —Ç–µ—Å—Ç—ñ–≤) –∞–±–æ False (–¥–ª—è —Ä–µ–∞–ª—å–Ω–æ—ó —Ç–æ—Ä–≥—ñ–≤–ª—ñ)
  ```
- Deploy –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è!

### 3. –ü–µ—Ä–µ–≤—ñ—Ä –ª–æ–≥–∏:
- Deployments ‚Üí View Logs
- –ú–∞—î—à –ø–æ–±–∞—á–∏—Ç–∏: "ü§ñ –ë–û–¢ –ó–ê–ü–£–©–ï–ù–û"

---

## üéØ –í–ò–°–ù–û–í–û–ö

‚úÖ –í—Å—ñ —Ñ–∞–π–ª–∏ –≥–æ—Ç–æ–≤—ñ –¥–ª—è –¥–µ–ø–ª–æ—é  
‚úÖ –Ü–Ω–¥–∏–∫–∞—Ç–æ—Ä–∏ –ø—Ä–∞—Ü—é—é—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ  
‚úÖ –£–º–æ–≤–∏ –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è —á—ñ—Ç–∫—ñ —Ç–∞ –ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω—ñ  
‚úÖ TP/SL –≤–∏—Å—Ç–∞–≤–ª—è—é—Ç—å—Å—è –Ω–∞ –±—ñ—Ä–∂—ñ (–±–µ–∑–ø–µ—á–Ω–æ)  
‚úÖ PnL —Ä–æ–∑—Ä–∞—Ö–æ–≤—É—î—Ç—å—Å—è –∑ —Ä–µ–∞–ª—å–Ω–∏—Ö –¥–∞–Ω–∏—Ö Bybit  
‚úÖ –ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ –¥—É–±–ª—é–≤–∞–Ω–Ω—è –ø–æ–∑–∏—Ü—ñ–π –ø—Ä–∞—Ü—é—î  
‚úÖ Telegram –±–æ—Ç –∑ –∫–Ω–æ–ø–∫–∞–º–∏ –≥–æ—Ç–æ–≤–∏–π  

**–ë–æ—Ç –≥–æ—Ç–æ–≤–∏–π –¥–æ —Ä–µ–∞–ª—å–Ω–æ—ó —Ç–æ—Ä–≥—ñ–≤–ª—ñ!** üöÄ  
(–∞–ª–µ —Å–ø–æ—á–∞—Ç–∫—É –ø—Ä–æ—Ç–µ—Å—Ç—É–π –Ω–∞ `TESTNET=True`)
